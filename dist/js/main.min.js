const select=document.querySelector("select"),allLang=["ru","en"];function changeUrlLang(){let e=select.value;location.href=window.location.pathname+"#"+e,location.reload()}function changeLang(){let e=window.location.hash;e=e.substring(1),console.log(e),allLang.includes(e)||(location.href=window.location.pathname+"#ru",location.reload()),select.value=e,document.querySelector("title").innerHTML=langArr.title[e];for(let n in langArr){let t=document.querySelector(".lang-"+n);t&&(t.innerHTML=langArr[n][e])}}select.addEventListener("change",changeUrlLang),changeLang();let modalWindow=document.querySelector(".modal"),modalClose=document.querySelector(".modal__close");function send(e,n){e.preventDefault?e.preventDefault():e.returnValue=!1;let t=new XMLHttpRequest;t.open("POST",n,!0),t.onload=function(){t.status>=200&&t.status<400?(json=JSON.parse(this.response),console.log(json),"success"==json.result?(modalWindow.classList.add("modal--active"),form.reset()):alert("Ошибка. Сообщение не отправлено")):alert("Ошибка сервера. Номер: "+t.status)},t.onerror=function(){alert("Ошибка отправки запроса")},t.send(new FormData(e.target))}modalClose.addEventListener("click",(function(){modalWindow.classList.remove("modal--active")}));